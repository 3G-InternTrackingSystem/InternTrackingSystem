<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:p="http://primefaces.org/ui">

<h:head>
    <title> TrackIn</title>
</h:head>
<h:body>
    <ui:composition template="layout.xhtml">
        <ui:define name="content">
            <div class="ui-g">
                <div class="ui-g-12 ui-md-6 ui-lg-2">

                </div>
                <div class="ui-g-12 ui-md-6 ui-lg-8">
                    <p:tabView>
                        <p:tab title="Login">
                            <h:form>
                                <h:panelGrid id="grid" columns="3" cellpadding="5">
                                    <h:outputLabel for="usernameLogin" value="User name: " style="font-weight: bold" />
                                    <p:inputText placeholder="Username"
                                                 id = "usernameLogin"
                                                 value="#{account.userName}"
                                                 required="true"
                                                 requiredMessage="User name is required"
                                    />
                                    <p:message for="usernameLogin"/>

                                    <h:outputLabel for="passwordLogin" value="Password: " style="font-weight: bold" />
                                    <p:password id="passwordLogin"
                                                placeholder="Password"
                                                label="Password"
                                                value="#{account.password}"
                                                required="true"
                                                requiredMessage="Password is required"
                                                maxlength="25"
                                    />
                                    <p:message for="passwordLogin"/>

                                    <f:facet name = "footer">
                                        <h:panelGroup style = "display:block; text-align:center">
                                            <p:commandButton
                                                    id = "login"
                                                    value = "Login"
                                                    action="#{account.loginUser}"
                                                    process="usernameLogin passwordLogin"
                                                    validateClient ="true"
                                                    style="margin-right:10px"
                                                    ajax="false"
                                            />
                                        </h:panelGroup>
                                    </f:facet>

                                </h:panelGrid>
                            </h:form>
                        </p:tab>

                        <p:tab title="Signup">
                            <h:form id="signup">
                                <h:panelGrid id="gridS" columns="3" cellpadding="5">
                                    <h:outputLabel for="sUsername" value="User name: " style="font-weight:bold"/>
                                    <p:inputText placeholder="Username"
                                                 id = "sUsername"
                                                 value="#{account.signupUserName}"
                                                 required="true"
                                                 requiredMessage="User name is required"
                                                 maxlength="25"
                                                 validator="#{account.validateName}"
                                    />
                                    <p:message for="sUsername"/>

                                    <h:outputLabel for="sEmail" value="Email: " style="font-weight: bold"/>
                                    <p:inputText placeholder="E-mail"
                                                 id = "sEmail"
                                                 value="#{account.signupEmail}"
                                                 required="true"
                                                 requiredMessage="E mail is required"
                                                 maxlength="25"
                                                 validator="#{account.validateEmail}"
                                    />
                                    <p:message for="sEmail" />

                                    <h:outputLabel for="sPassword" value="Password 1: " style="font-weight: bold" />
                                    <p:password id="sPassword"
                                                value="#{account.signupPassword}"
                                                match="sPassword2"
                                                label="Password 1"
                                                required="true"
                                                requiredMessage="Password is required"
                                                maxlength="25"
                                                validatorMessage="Password 1 should match password 2"
                                                feedback="true"
                                                placeholder="Password 1"
                                    />
                                    <p:message for="sPassword"/>

                                    <h:outputLabel for="sPassword" value="Password 2: " style="font-weight: bold" />
                                    <p:password id="sPassword2"
                                                value="#{account.signupPassword}"
                                                label="Password 2"
                                                required="true"
                                                placeholder="Password 2"
                                    />
                                    <p:message for="sPassword2"/>
                                </h:panelGrid>


                                <h:panelGrid cellpadding="10">
                                    <p:row>
                                        <p:selectOneRadio id="console"
                                                          value="#{account.userType}"
                                                          required="true"
                                                          requiredMessage="Please specify your user type!"
                                        >
                                            <f:selectItem itemLabel="I am a student" itemValue="0" />
                                            <f:selectItem itemLabel="I am a supervisor" itemValue="1" />
                                            <f:selectItem itemLabel="I am in charge of a company" itemValue="2" />
                                        </p:selectOneRadio>
                                        <p:message for="console"/>
                                    </p:row>

                                    <f:facet name = "footer">
                                        <h:panelGroup style = "display:block; text-align:center">
                                            <p:commandButton id = "signUp"
                                                             value = "Sign Up"
                                                             action="#{account.signUp}"
                                                             process="sUsername sPassword sEmail"
                                                             validateClient ="true"
                                                             style="margin-right:10px"
                                                             ajax="false"
                                            />
                                        </h:panelGroup>
                                    </f:facet>
                                </h:panelGrid>
                            </h:form>
                        </p:tab>
                    </p:tabView>
                </div>
            </div>
            <p:messages autoUpdate="true"/>
        </ui:define>
    </ui:composition>
</h:body>
</html>